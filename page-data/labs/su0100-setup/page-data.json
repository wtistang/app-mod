{"componentChunkName":"component---src-pages-labs-su-0100-setup-index-mdx","path":"/labs/su0100-setup/","result":{"pageContext":{"frontmatter":{"title":"Lab Environment Setup"},"relativePagePath":"/labs/su0100-setup/index.mdx","titleType":"page","MdxNode":{"id":"c9b12f85-4436-5156-a4ab-42db634c3417","children":[],"parent":"436f6474-3072-5770-bdc3-b51fbe7fba48","internal":{"content":"---\ntitle: Lab Environment Setup\n---\n\n## Setup IBM Cloud Pak for Applications on OCP Cluster in IBM Cloud \n\nThis lab is the first part of the Cloud Pak for Applications on Red Hat OpenShift Kubernetes Service (OCP) lab series which focus on application modernization and cloud native related solutions. This lab walks you through the process to setup the lab environment by installing CP4Apps on a OCP cluster in IBM Cloud.\n\nNote: currently you can only reserve one CP4Apps instance per OCP cluster.  If you want to install another CP4Apps instance, you have to delete your CP4Apps OCP cluster from the [Reservation](https://www.ibm.com/demos/my-reservations/) page first, and reserve a new one.\n\n### 1.\tLab Environment\n\nAs shown in the image below, the lab environment consists of two parts, the IBM Cloud Pak for Applications (CP4Apps) running on a OCP cluster in IBM Cloud, and a Developer Workstation VM on IBM Cloud.\n\n![](images/OCP-lab-env.png)\n\nNote: The Developer Workstation is pre-configured with lab artifacts, WebSphere Application Servers, Liberty Collective and developer tools, including:\n* Docker\n* VSCode\n* SDK 8.0.5\n* WAS 8.5.5\n* WAS 9.0.5\n* Liberty Collective \n\nThe Developer Workstation is provisioned for you when you provision the OCP cluster. You access your OCP cluster and conduct tasks for all labs in the [Hands-on Lab List](/labs/) from the Workstation.\n\nIt is recommended to use Chrome or Firefox browser to work with the Developer Worksation.\n### 2.\tObjective\n\nThe objectives of this lab are to:\n\n*\tlearn how to create a Red Hat OpenShift Cluster using IBM Cloud Managed Red Hat OpenShift Kubernetes Service (OCP);\n*\tlearn how to deploy IBM Cloud Pak for Applications to the OCP Cluster.\n\n### 3.\tPrerequisites\nThe following prerequisites must be completed prior to beginning this lab:\n\n*\thave internet access\n*\thave an IBM Cloud account\n\n### 4.\tLab Tasks\n\nIn this lab, you access IBM Cloud to create a OCP cluster and deploy the IBM Cloud Pak for Applications to the cluster.\n\nHere are the activities involved in this process:\n\n*   Create a OCP cluster in IBM Cloud\n*\tInstall Cloud Pak for Applications to the OCP cluster\n*   Configure the Developer Workstation\n*   Setup OCP cluster Internal Image Registry Route\n\n### 5.\tExecute Lab Tasks\n\n#### 5.1 Create a OCP Cluster in IBM Cloud\n\nIn this task, you are going to create a OCP cluster in IBM Cloud using the IBM Cloud Managed Red Hat OpenShift Service (OCP).\n\n1.\tFrom your local workstation, launch the web browser.\n \n2.\tLog in to IBM Demos site at **www.ibm.com/demos** with your IBM credentials.\n\n3.\tOn the IBM Demos page, click **Cloud Pak for Applications** link.\n \n    ![](images/ibm-demos-page.png)\n\n    The Cloud Pak for Applications Collection page is displayed.\n\n    ![](images/cp4apps-collection-page.png)\n \n4.\tScroll down to the **Demo Environments** section and click **Reserve Instance** link of the **BETA - Cloud Pak for Applications OCP 4.4.17 with Desktop VM (Express)** environment.\n\n    ![](images/ocp-cluster-reserve-instance-page.png) \n\n5.\tFill out the Purpose, Duration and Location information which are required to provision the cluster, check the **I'm not a robot** box and click **Create**.\n    \n    Note: you can select a date up to 2 weeks out.  If you select more than two weeks, the system will revert to 2 hours.\n \n    ![](images/ocp-cluster-create-page.png)\n\n    With a few minutes, your OCP cluster and a Developer Workstation VM are created\n\n    ![](images/ocp-cluster-ready.png)\n \n6.\tClick **Details** to view more reservation information about your OCP cluster and the Developer Workstation VM.\n\n    ![](images/reservation-details.png)\n\n7.  The **Reservation Details** page lists information you need to do the Cloud Pak for Applications on OCP labs, including the lab environment setup guide, and the Developer Workstation VM URL and login credentials. Write down the VM URL and username/password, you are going to use the VM in your labs.  Close the page when you are done. \n    ![](images/reservation-details-page.png)\n\n8. Click the **Open** link on the reservation to access your OCP cluster with your IBM account credentials.\n\n    ![](images/open-ocp-cluster.png)\n \n    Your OCP cluster is displayed in IBM Cloud and you see that the system has assigned a DTE user account to your IBM Cloud account. \n \n    ![](images/ocp-cluster-page.png)\n   \n    ![](images/view-dte-account.png)\n \n    You have created your OCP cluster in IBM Cloud.\n\n#### 5.2 Install Cloud Pak for Applications\n\nAfter the cluster is created, you can install IBM Cloud Pak for Applications on it.  The installation process is very easy with two simple steps.\n\n1.\tIn your IBM Cloud page, go to the **Catalog** page, then click **Software**.\n\n    ![](images/catalog-software.png)\n \n2.\tClick to select **Cloud Pak for Applications** from the catalog list.\n\n    ![](images/software-cp4apps.png)\n \n3.\tSelect the OCP cluster you just created and set the Project as **default**.\n\n    ![](images/cp4apps-select-cluster.png)\n\n    Note:  You might have a wait for a few minutes for the Project list to get populated.\n4.\tScroll down and click **Run script** to execute the preinstallation script.\n\n    ![](images/cp4apps-run-script.png)\n\n    The script runs for a few minutes\n\n    ![](images/cp4apps-running-script.png)\n \n5.\tWhen the script run is completed, you are ready to install the Pak. Check the **License agreement** box and click **Install** to start the installation process.\n\n    ![](images/cp4apps-install.png)\n\n    The installation is in progress, it takes about 20 minutes.\n\n    ![](images/cp4apps-installing.png)\n\n    When it is done, you see that the Cloud Pak for Applications is in **Active** status.\n\n    ![](images/cp4apps-active.png)\n\n6.\tTo view the offerings included in the Cloud Pak for Applications, click the **Offering baseboard**.\n\n    ![](images/cp4apps-goto-bashboard.png)\n \n7.\tThe Cloud Pak for Application Offering Dashboard page is displayed. Click the **Instance** icon on the left navigation menu bar to see all the available offerings in the Pak.\n\n    ![](images/cp4apps-bashboard.png)\n\n\tThe Instances page lists all products/offerings available.\n\n    ![](images/cp4apps-instances.png)\n \n    You have installed Cloud Pak for Applications on the OCP cluster and it is ready.\n\n#### 5.3\tConfigure Developer Workstation\n\nIn the CP4Apps on OCP lab series, you are going to use the Developer Workstation to access the OCP cluster and execute lab tasks.\n\nThe Developer Workstation VM is created for you when you created the cluster.\n\n1.\tLaunch the VM from your local workstation web browser with the VM URL you recorded earlier.\n \n    ![](images/vm-url.png)\n\n2.\tClick **Connect** to access the VM.\n \n    ![](images/vm-connect.png)\n\n3.\tEnter the password you obtained from the Reservation Details page and click **Send Password**.\n\n    ![](images/vm-password.png)\n\n    The VM desktop is displayed.\n\n    ![](images/vm-desktop.png)\n \n4.\tClick **Applications**>**Firefox** to launch the web browser.\n\n    ![](images/vm-browser-link.png)\n \n5.\tFrom the browser window, click the IBM cloud bookmark to access your IBM Cloud account with your IBM Cloud account credentials.\n\n    ![](images/ibm-cloud-bookmark.png)\n \n6.\tIn your IBM Cloud page, click **Clusters**.\n\n    ![](images/ibm-cloud-cluster-link.png)\n \n7.\tClick the cluster you just created.\n\n    ![](images/your-cluster-link.png)\n\n8.  Click **OpenShift web console** to access the OpenShift Web Console of the cluster.\n \n    ![](images/ocp-goto-console.png)\n\n    The OpenShift Web Console page is opened in a new browser window. \n    \n9.\tAdd a bookmark for OCP cluster Web Console. \n\n    a.\tGo to the OCP cluster Web Console page, click its URL icon and drag it to the browser bookmark bar to create a bookmark for the URL.\n\n    ![](images/bookmark-ocp-console.png)\n\n     When it is done, it looks like this:\n \n    ![](images/ocp-console-bookmarked.png)\n\n10.\tAdd bookmarks for **Transformation Advisor**, **Application Navigator** and **Tekton Dashboard**\n\n    a. Go to the Cloud Pak for Applications **Instance** page, click the link for **Transformation Advisor** to open it in a new browser window.\n \n    ![](images/launch-ta.png)\n\n    b.\tGo to the **Transformation Advisor** window, follow the same procedure in step above and drag its URL icon to the browser bookmark bar to create a bookmark for the **Transformation Advisor** page.\n  \n    ![](images/ta-bookmarked.png)\n\n    c.\t Repeat the same steps to add bookmarks for **Application Navigator** and **Tekton Pipeline Dashboard** bookmarks.\n\n    d.\tIf you see the **Authorize Access** message, click **Allow selected permissions** to continue.\n\n    ![](images/authorize-access.png)\n \n    When you are done, your browser bookmark bar looks like this:\n\n    ![](images/bookmarks-added.png)\n\n 11. Setup Lab Artifacts   \n\n    The CP4Apps on OCP lab artifacts are stored in GitHub repo: **https://github.ibm.com/yitang/app-mod-labs**\n    \n    a. Access the lab artifacts repo from the browser window withe the repo URL.\n    \n    ![](images/lab-repo-url.png)\n\n    b. Download the lab artifacts by clicking **Clone or download**>**Download ZIP** to download the artifacts to the default **Downloads** directory of the VM.\n    ![](images/lab-repo-extract.png)\n\n    c. Launch the Desktop File Explorer tool by clicking **Applications**>**Files**.\n    \n    ![](images/vm-files-link.png)\n\n    d. From the Files Explorer navigate to **/home/ibmdemo/Downloads** directory. Right-click the downloaded zip file and select **Open With Archive Manager**.\n    \n    ![](images/lab-repo-unzip.png)\n\n    e. Click **Extract**.\n    \n    ![](images/lab-repo-extract.png)\n\n    f. Select **Home** as the extracting target folder and click **Extract**.  The Lab artifacts will be unpacked in **/home/ibmdemo/cap4-OCP-labs-master** directory.\n    \n    ![](images/lab-repo-extract-to.png)\n\n    g. Use Files Explorer to rename **/home/ibmdemo/cap4-OCP-labs-master** directory as **home/ibmdemo/cap4-OCP-labs**.\n    \n    ![](images/lab-repo-rename.png)\n\n\n#### 5.4 Configure OCP Cluster\n\nIn the CP4Apps on OCP lab series, you are going to use the OCP cluster Internal Image Registry to host your application Docker images.  The Internal Image Registry is installed when you created the cluster, but its route has not been setup yet, so you cannot access the image registry from outside the cluster. \n\nIn this task, you configure the image registry route through the OCP cluster Command Line Interface (CLI).\n\n1.\tFrom the Lab VM, go back to your OCP cluster Web Console page.\n\n2.\tClick the Action icon next to your username and select **Copy Login Command** to get the OCP cluster login command.\n \n    ![](images/ocp-copy-login-command.png)\n\n3.\tIn the next page, click **Display Token** link.\n\n    ![](images/display-token.png)\n \n4.\tCopy the OCP login command to the clipboard.\n\n    ![](images/copy-token.png)\n \n5.\tOpen a Terminal window in the Workstation by clicking **Applications**>**Terminal**.\n\n    ![](images/vm-terminal-link.png)\n \n6.\tRight-click to paste the OCP cluster login command to the Terminal window and press **Enter** to log in to the cluster.\n\n    ![](images/run-oc-login-command.png)\n \n7.\tTo setup Image Registry Route, issue the OpenShift CLI command below:\n\n    ```\n    oc patch configs.imageregistry.operator.openshift.io/cluster --patch '{\"spec\":{\"defaultRoute\":true}}' --type=merge\n    \n    ```\n\n    The Image Registry Route is now configured.    \n\n#### 5.5 Delete OCP Cluster (Optional)\n\nAfter you are done with your OCP cluster, you should delete the cluster to free ROSK resources for others to use. It is easy to delete the cluster as well as the Developer Workstation VM from your IBM Cloud account.\n\n1.\tFrom your local workstation browser window, access your IBM Demo [Reservation](https://www.ibm.com/demos/my-reservations/) page with your IBM Cloud credentials.\n\n2.  Locate your reservation, click its action menu and select **Delete** to delete the reservation.\n\n    ![](images/delete-reservation.png)\n    \n    Your OCP cluster and the Developer Workstation VM associated with the reservation are deleted from your IBM Cloud account.\n \n### 7.\tSummary\n\nIn this lab, you learned how to create a OCP cluster using IBM Cloud Managed Red Hat OpenShift Kubernetes Service and how to install IBM Cloud Pak for Applications on the cluster. Now you are ready to use the OCP cluster with Cloud Pak for Applications to run the rest of the Cloud Pak for Applications on OCP lab series. To learn more about IBM App Modernization solutions, please visit [Cloud Pak for Applications](https://www.ibm.com/cloud/cloud-pak-for-applications) .\n\n**Congratulations! You have successfully completed the lab “Setup IBM Cloud Pak for Applications on OCP Cluster in IBM Cloud”.\n**\n","type":"Mdx","contentDigest":"3d88a4bb13d429e06b0f0f67a9629160","owner":"gatsby-plugin-mdx","counter":2868},"frontmatter":{"title":"Lab Environment Setup"},"exports":{},"rawBody":"---\ntitle: Lab Environment Setup\n---\n\n## Setup IBM Cloud Pak for Applications on OCP Cluster in IBM Cloud \n\nThis lab is the first part of the Cloud Pak for Applications on Red Hat OpenShift Kubernetes Service (OCP) lab series which focus on application modernization and cloud native related solutions. This lab walks you through the process to setup the lab environment by installing CP4Apps on a OCP cluster in IBM Cloud.\n\nNote: currently you can only reserve one CP4Apps instance per OCP cluster.  If you want to install another CP4Apps instance, you have to delete your CP4Apps OCP cluster from the [Reservation](https://www.ibm.com/demos/my-reservations/) page first, and reserve a new one.\n\n### 1.\tLab Environment\n\nAs shown in the image below, the lab environment consists of two parts, the IBM Cloud Pak for Applications (CP4Apps) running on a OCP cluster in IBM Cloud, and a Developer Workstation VM on IBM Cloud.\n\n![](images/OCP-lab-env.png)\n\nNote: The Developer Workstation is pre-configured with lab artifacts, WebSphere Application Servers, Liberty Collective and developer tools, including:\n* Docker\n* VSCode\n* SDK 8.0.5\n* WAS 8.5.5\n* WAS 9.0.5\n* Liberty Collective \n\nThe Developer Workstation is provisioned for you when you provision the OCP cluster. You access your OCP cluster and conduct tasks for all labs in the [Hands-on Lab List](/labs/) from the Workstation.\n\nIt is recommended to use Chrome or Firefox browser to work with the Developer Worksation.\n### 2.\tObjective\n\nThe objectives of this lab are to:\n\n*\tlearn how to create a Red Hat OpenShift Cluster using IBM Cloud Managed Red Hat OpenShift Kubernetes Service (OCP);\n*\tlearn how to deploy IBM Cloud Pak for Applications to the OCP Cluster.\n\n### 3.\tPrerequisites\nThe following prerequisites must be completed prior to beginning this lab:\n\n*\thave internet access\n*\thave an IBM Cloud account\n\n### 4.\tLab Tasks\n\nIn this lab, you access IBM Cloud to create a OCP cluster and deploy the IBM Cloud Pak for Applications to the cluster.\n\nHere are the activities involved in this process:\n\n*   Create a OCP cluster in IBM Cloud\n*\tInstall Cloud Pak for Applications to the OCP cluster\n*   Configure the Developer Workstation\n*   Setup OCP cluster Internal Image Registry Route\n\n### 5.\tExecute Lab Tasks\n\n#### 5.1 Create a OCP Cluster in IBM Cloud\n\nIn this task, you are going to create a OCP cluster in IBM Cloud using the IBM Cloud Managed Red Hat OpenShift Service (OCP).\n\n1.\tFrom your local workstation, launch the web browser.\n \n2.\tLog in to IBM Demos site at **www.ibm.com/demos** with your IBM credentials.\n\n3.\tOn the IBM Demos page, click **Cloud Pak for Applications** link.\n \n    ![](images/ibm-demos-page.png)\n\n    The Cloud Pak for Applications Collection page is displayed.\n\n    ![](images/cp4apps-collection-page.png)\n \n4.\tScroll down to the **Demo Environments** section and click **Reserve Instance** link of the **BETA - Cloud Pak for Applications OCP 4.4.17 with Desktop VM (Express)** environment.\n\n    ![](images/ocp-cluster-reserve-instance-page.png) \n\n5.\tFill out the Purpose, Duration and Location information which are required to provision the cluster, check the **I'm not a robot** box and click **Create**.\n    \n    Note: you can select a date up to 2 weeks out.  If you select more than two weeks, the system will revert to 2 hours.\n \n    ![](images/ocp-cluster-create-page.png)\n\n    With a few minutes, your OCP cluster and a Developer Workstation VM are created\n\n    ![](images/ocp-cluster-ready.png)\n \n6.\tClick **Details** to view more reservation information about your OCP cluster and the Developer Workstation VM.\n\n    ![](images/reservation-details.png)\n\n7.  The **Reservation Details** page lists information you need to do the Cloud Pak for Applications on OCP labs, including the lab environment setup guide, and the Developer Workstation VM URL and login credentials. Write down the VM URL and username/password, you are going to use the VM in your labs.  Close the page when you are done. \n    ![](images/reservation-details-page.png)\n\n8. Click the **Open** link on the reservation to access your OCP cluster with your IBM account credentials.\n\n    ![](images/open-ocp-cluster.png)\n \n    Your OCP cluster is displayed in IBM Cloud and you see that the system has assigned a DTE user account to your IBM Cloud account. \n \n    ![](images/ocp-cluster-page.png)\n   \n    ![](images/view-dte-account.png)\n \n    You have created your OCP cluster in IBM Cloud.\n\n#### 5.2 Install Cloud Pak for Applications\n\nAfter the cluster is created, you can install IBM Cloud Pak for Applications on it.  The installation process is very easy with two simple steps.\n\n1.\tIn your IBM Cloud page, go to the **Catalog** page, then click **Software**.\n\n    ![](images/catalog-software.png)\n \n2.\tClick to select **Cloud Pak for Applications** from the catalog list.\n\n    ![](images/software-cp4apps.png)\n \n3.\tSelect the OCP cluster you just created and set the Project as **default**.\n\n    ![](images/cp4apps-select-cluster.png)\n\n    Note:  You might have a wait for a few minutes for the Project list to get populated.\n4.\tScroll down and click **Run script** to execute the preinstallation script.\n\n    ![](images/cp4apps-run-script.png)\n\n    The script runs for a few minutes\n\n    ![](images/cp4apps-running-script.png)\n \n5.\tWhen the script run is completed, you are ready to install the Pak. Check the **License agreement** box and click **Install** to start the installation process.\n\n    ![](images/cp4apps-install.png)\n\n    The installation is in progress, it takes about 20 minutes.\n\n    ![](images/cp4apps-installing.png)\n\n    When it is done, you see that the Cloud Pak for Applications is in **Active** status.\n\n    ![](images/cp4apps-active.png)\n\n6.\tTo view the offerings included in the Cloud Pak for Applications, click the **Offering baseboard**.\n\n    ![](images/cp4apps-goto-bashboard.png)\n \n7.\tThe Cloud Pak for Application Offering Dashboard page is displayed. Click the **Instance** icon on the left navigation menu bar to see all the available offerings in the Pak.\n\n    ![](images/cp4apps-bashboard.png)\n\n\tThe Instances page lists all products/offerings available.\n\n    ![](images/cp4apps-instances.png)\n \n    You have installed Cloud Pak for Applications on the OCP cluster and it is ready.\n\n#### 5.3\tConfigure Developer Workstation\n\nIn the CP4Apps on OCP lab series, you are going to use the Developer Workstation to access the OCP cluster and execute lab tasks.\n\nThe Developer Workstation VM is created for you when you created the cluster.\n\n1.\tLaunch the VM from your local workstation web browser with the VM URL you recorded earlier.\n \n    ![](images/vm-url.png)\n\n2.\tClick **Connect** to access the VM.\n \n    ![](images/vm-connect.png)\n\n3.\tEnter the password you obtained from the Reservation Details page and click **Send Password**.\n\n    ![](images/vm-password.png)\n\n    The VM desktop is displayed.\n\n    ![](images/vm-desktop.png)\n \n4.\tClick **Applications**>**Firefox** to launch the web browser.\n\n    ![](images/vm-browser-link.png)\n \n5.\tFrom the browser window, click the IBM cloud bookmark to access your IBM Cloud account with your IBM Cloud account credentials.\n\n    ![](images/ibm-cloud-bookmark.png)\n \n6.\tIn your IBM Cloud page, click **Clusters**.\n\n    ![](images/ibm-cloud-cluster-link.png)\n \n7.\tClick the cluster you just created.\n\n    ![](images/your-cluster-link.png)\n\n8.  Click **OpenShift web console** to access the OpenShift Web Console of the cluster.\n \n    ![](images/ocp-goto-console.png)\n\n    The OpenShift Web Console page is opened in a new browser window. \n    \n9.\tAdd a bookmark for OCP cluster Web Console. \n\n    a.\tGo to the OCP cluster Web Console page, click its URL icon and drag it to the browser bookmark bar to create a bookmark for the URL.\n\n    ![](images/bookmark-ocp-console.png)\n\n     When it is done, it looks like this:\n \n    ![](images/ocp-console-bookmarked.png)\n\n10.\tAdd bookmarks for **Transformation Advisor**, **Application Navigator** and **Tekton Dashboard**\n\n    a. Go to the Cloud Pak for Applications **Instance** page, click the link for **Transformation Advisor** to open it in a new browser window.\n \n    ![](images/launch-ta.png)\n\n    b.\tGo to the **Transformation Advisor** window, follow the same procedure in step above and drag its URL icon to the browser bookmark bar to create a bookmark for the **Transformation Advisor** page.\n  \n    ![](images/ta-bookmarked.png)\n\n    c.\t Repeat the same steps to add bookmarks for **Application Navigator** and **Tekton Pipeline Dashboard** bookmarks.\n\n    d.\tIf you see the **Authorize Access** message, click **Allow selected permissions** to continue.\n\n    ![](images/authorize-access.png)\n \n    When you are done, your browser bookmark bar looks like this:\n\n    ![](images/bookmarks-added.png)\n\n 11. Setup Lab Artifacts   \n\n    The CP4Apps on OCP lab artifacts are stored in GitHub repo: **https://github.ibm.com/yitang/app-mod-labs**\n    \n    a. Access the lab artifacts repo from the browser window withe the repo URL.\n    \n    ![](images/lab-repo-url.png)\n\n    b. Download the lab artifacts by clicking **Clone or download**>**Download ZIP** to download the artifacts to the default **Downloads** directory of the VM.\n    ![](images/lab-repo-extract.png)\n\n    c. Launch the Desktop File Explorer tool by clicking **Applications**>**Files**.\n    \n    ![](images/vm-files-link.png)\n\n    d. From the Files Explorer navigate to **/home/ibmdemo/Downloads** directory. Right-click the downloaded zip file and select **Open With Archive Manager**.\n    \n    ![](images/lab-repo-unzip.png)\n\n    e. Click **Extract**.\n    \n    ![](images/lab-repo-extract.png)\n\n    f. Select **Home** as the extracting target folder and click **Extract**.  The Lab artifacts will be unpacked in **/home/ibmdemo/cap4-OCP-labs-master** directory.\n    \n    ![](images/lab-repo-extract-to.png)\n\n    g. Use Files Explorer to rename **/home/ibmdemo/cap4-OCP-labs-master** directory as **home/ibmdemo/cap4-OCP-labs**.\n    \n    ![](images/lab-repo-rename.png)\n\n\n#### 5.4 Configure OCP Cluster\n\nIn the CP4Apps on OCP lab series, you are going to use the OCP cluster Internal Image Registry to host your application Docker images.  The Internal Image Registry is installed when you created the cluster, but its route has not been setup yet, so you cannot access the image registry from outside the cluster. \n\nIn this task, you configure the image registry route through the OCP cluster Command Line Interface (CLI).\n\n1.\tFrom the Lab VM, go back to your OCP cluster Web Console page.\n\n2.\tClick the Action icon next to your username and select **Copy Login Command** to get the OCP cluster login command.\n \n    ![](images/ocp-copy-login-command.png)\n\n3.\tIn the next page, click **Display Token** link.\n\n    ![](images/display-token.png)\n \n4.\tCopy the OCP login command to the clipboard.\n\n    ![](images/copy-token.png)\n \n5.\tOpen a Terminal window in the Workstation by clicking **Applications**>**Terminal**.\n\n    ![](images/vm-terminal-link.png)\n \n6.\tRight-click to paste the OCP cluster login command to the Terminal window and press **Enter** to log in to the cluster.\n\n    ![](images/run-oc-login-command.png)\n \n7.\tTo setup Image Registry Route, issue the OpenShift CLI command below:\n\n    ```\n    oc patch configs.imageregistry.operator.openshift.io/cluster --patch '{\"spec\":{\"defaultRoute\":true}}' --type=merge\n    \n    ```\n\n    The Image Registry Route is now configured.    \n\n#### 5.5 Delete OCP Cluster (Optional)\n\nAfter you are done with your OCP cluster, you should delete the cluster to free ROSK resources for others to use. It is easy to delete the cluster as well as the Developer Workstation VM from your IBM Cloud account.\n\n1.\tFrom your local workstation browser window, access your IBM Demo [Reservation](https://www.ibm.com/demos/my-reservations/) page with your IBM Cloud credentials.\n\n2.  Locate your reservation, click its action menu and select **Delete** to delete the reservation.\n\n    ![](images/delete-reservation.png)\n    \n    Your OCP cluster and the Developer Workstation VM associated with the reservation are deleted from your IBM Cloud account.\n \n### 7.\tSummary\n\nIn this lab, you learned how to create a OCP cluster using IBM Cloud Managed Red Hat OpenShift Kubernetes Service and how to install IBM Cloud Pak for Applications on the cluster. Now you are ready to use the OCP cluster with Cloud Pak for Applications to run the rest of the Cloud Pak for Applications on OCP lab series. To learn more about IBM App Modernization solutions, please visit [Cloud Pak for Applications](https://www.ibm.com/cloud/cloud-pak-for-applications) .\n\n**Congratulations! You have successfully completed the lab “Setup IBM Cloud Pak for Applications on OCP Cluster in IBM Cloud”.\n**\n","fileAbsolutePath":"/Users/yitang/Downloads/app-mod/src/pages/labs/su0100-setup/index.mdx"}}},"staticQueryHashes":["1364590287","137577622","137577622","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}
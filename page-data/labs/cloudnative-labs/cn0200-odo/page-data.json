{"componentChunkName":"component---src-pages-labs-cloudnative-labs-cn-0200-odo-index-mdx","path":"/labs/cloudnative-labs/cn0200-odo/","result":{"pageContext":{"frontmatter":{"title":"Create and Deploy Cloud Native Application Using ODO 2.0","description":null},"relativePagePath":"/labs/cloudnative-labs/cn0200-odo/index.mdx","titleType":"page","MdxNode":{"id":"1779f99b-49d1-5817-844d-e5d7059b85a8","children":[],"parent":"cfc22c8d-0873-5ad4-b1f6-d6fe1fa37431","internal":{"content":"---\ntitle: Create and Deploy Cloud Native Application Using ODO 2.0\ndescription: \n---\nThe goal of this session is to provide a hands-on experience on how to work with OpenShift Do (**ODO**) development tool.\n\n### 1. OpenShift Serverless Serving Introduction\nOn the journey to cloud, enterprise customers are facing challenges moving their existing on-premises applications to cloud and creating cloud native business applications quickly and cost-effectively.  The IBM Cloud Paks and Red Hat OpenShift provides a complete and consistent experience and solution for cloud-native deployments. \n\nCustomers can easily modernize their existing applications with IBM and Red Hat integrated tools and develop new cloud-native applications faster with enterprise governance on any cloud. \n\nOne of the features integrated is OpenShift ODO 2.0, a modern microservices-based framework that enables developers, architects and operation teams to work together, faster on end-to-end solutions for the team to build, deploy, and manage the lifecycle of Kubernetes-based applications on OpenShift Container Platform. \n\nOpenShift Do (ODO) ODO is a fast and easy-to-use CLI tool for creating applications on OpenShift Container Platform. It allows developers to concentrate on creating applications without the need to administrate an OpenShift Container Platform cluster itself. Creating deployment configurations, build configurations, service routes and other OpenShift Container Platform elements are all automated by ODO.\n\nIn this lab, you are using ODO to develop and test your application in an OpenShift Container Platform (OCP) cluster.\n\nThe lab covers the following business scenario:\n\nAs illustrated below, your team is developing a web application called **Mod Resorts**, a cloud native application showing the weather in various locations. Your company wants to move this application from on-premises (in VMs) to the cloud (in Containers). This transition delivers improved operational efficiencies for the application by leveraging scalable cloud capabilities with OCP.  \n \n![](images/mod-resorts-app-home-page.png)\n\n\n\n### 2. Objective\n\nThe objectives of this lab are to help you:\n\n* learn how to use ODO to create a cloud native application\n* learn how to use ODO to deploy a cloud native application to an OCP cluster\n* learn how to use ODO and VS code to test, fix and re-deploy the could native application\n\n### 3.\tPrerequisites\n\nThe following prerequisites must be completed prior to beginning this lab:\n*\tFamiliarity with basic Linux commands\n*\tHave internet access\n* Have basic knowledge of OpenShift Container Platform (OCP) web console and commandline operations\n*\tHave a SkyTap App Mod Lab environment ready\n\n### 4.\tWhat is Already Completed\n\nA six Linux VMs App Mod Lab environment has been provided for this lab. \n \n  ![](images/lab-vms.png)\n\n*\tThe Red Hat OpenShift Container Platform (OCP) v4.6, is installed in 5 VMs, the master1 VM, the master2 VM, the master3 VM, the dns VM and the nfs VM, with 3 master nodes and 3 compute nodes (the master nodes are serving as computer nodes as well).\n*\tThe workstation VM is the one you will use to access and work with OCP cluster in this lab.\n  The login credentials for the workstation VM are:\n  User ID: **ibmdemo**\n  Password: **passw0rd**\n  Note: Use the Password above in the workstation VM Terminal for sudo in the Lab.\n*\tThe CLI commands used in this lab are listed in the **Commands.txt** file located at the **/home/ibmdemo/add-mod-labs/cn0100st** directory of the workstation VM for you to copy and paste these commands to the Terminal window during the lab.\n\n### 5.\tLab Tasks\n\nDuring this lab, you complete the following tasks:\n*\tcreate ODO project\n* package, deploy and test cloud native application with ODO\n* edit, re-Deploy and test application\n\n### 6.\tExecute Lab Tasks\n\n#### 6.1 Log in to the workstation VM and get started \n1.  If the VMs are not already started, start them by clicking the play button for the whole group.\n\n  ![](images/start-vms.png)\n\n\n2.\tAfter the VMs are started, click the workstation VM icon to access it. \n\n  ![](images/access-workstation.png)\n\n  The Workstation Linux Desktop is displayed. You execute all the lab tasks on this workstation VM.\n\n3.\tIf requested to log in to the workstation OS, use credentials: **ibmdemo**/**passw0rd**\n4. Open a terminal window by clicking its icon from the Desktop toolbar.\n\n  ![](images/terminal-icon.png)\n5. If this is your first time to run the lab series in this lab environment, do the following, otherwise if you have already downloaded the lab materials in other labs, you can skip this step.\n  \n  a. In the terminal window, run the following command to get the lab materials.\n\n  ```\n  /home/ibmdemo/get-lab-materials.sh\n  ```\n\n  Sample output\n\n  ```\n  Cloning into 'app-mod-labs'...\n  warning: redirecting to https://github.com/wtistang/app-mod-labs.git/\n  remote: Enumerating objects: 5693, done.\n  remote: Counting objects: 100% (185/185), done.\n  remote: Compressing objects: 100% (118/118), done.\n  remote: Total 5693 (delta 53), reused 184 (delta 53), pack-reused 5508\n  Receiving objects: 100% (5693/5693), 277.71 MiB | 57.39 MiB/s, done.\n  Resolving deltas: 100% (2250/2250), done.\n  Checking out files: 100% (6120/6120), done.\n  ```\n  \n  The lab materials is downloaded to the **/home/ibmdemo/app-mod-labs** directory.\n  \n6. Open **File Manager** by clicking its icon on the Desktop toolbar.\n\n  ![](images/file-manager-icon.png)\n\n7. Navigate to **/home/ibmdemo/app-mod-labs/cn0200st** directory and double-click to open **Commands.txt** file in the text editor.\n\n  ![](images/open-commands-txt-cn0200st.png)\n\n  This file contains all commands used in the lab.  When you need to any command in a terminal window in the future tasks, you should come back to this file and copy/paste the command from this file, this is because you cannot directly copy and paste from your local workstation to the SkyTap workstation.\n \n#### 6.2 Create an ODO project\n\nTo work with ODO, you need to create your ODO project working directory first.\n\n1.\tClick the terminal icon in the Desktop toolbar.\n\n  ![](images/terminal-icon.png)\n\n2.\tFirst create a working directory called **my-odo-app** and navigate to it with commands: \n\n  ```\n  cd /home/ibmdemo\n  mkdir my-odo-app \n  cd my-odo-app/\n  ```\n3.\tLog in to the OCP cluster using command:\n\n  ```\n  odo login -u ibmadmin -p engageibm https://api.demo.ibmdte.net:6443\n  ```\n  Sample output:\n  ```\n  Connecting to the OpenShift cluster\n\n  Login successful.\n\n  You have access to 70 projects, the list has been suppressed. You can list all projects with 'odo project list'\n\n  Using project \"default\".\n\n  ```\n4.\tYou need to create a project/namespace in the OCP cluster to host your application.  To do this, run the following command to create a project called **myodo** in the cluster:\n\n  ```\n  odo project create myodo\n  ```\n  Sample output:\n  ```\n  ✓  Project 'myodo' is ready for use\n  ✓  New project created and now using project: myodo\n  ```\n  **myodo** project is created and is used as current ODO working project.\n\n \n#### 6.3\tPackage, Deploy and Test Your Application with ODO\n\nYour teammate has developed the **Mod Rsorts** application, you need to package it with ODO, deploy it to the OCP cluster and test it.\n\n1.\tRun the command below to copy the application code to the **my-odo-app** directory:\n\n  ```\n  cd /home/ibmdemo/my-odo-app/\n  cp -R /home/ibmdemo/app-mod-labs/cn0200st/modresorts-devfile/* .\n  ```\n2.\tReview the contents of the application using command:\n  ```\n  ls -l\n  ```\n  Sample output:\n  ```\n  total 20\n  -rw-rw-r-- 1 ibmdemo ibmdemo 1108 Aug  6 08:41 app-deploy.yaml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 7847 Aug  6 08:41 pom.xml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 3977 Aug  6 08:41 READ_THIS_FIRST.md\n  drwxrwxr-x 4 ibmdemo ibmdemo 4096 Aug  6 08:41 src\n  ```\n  \n  The **Mod Resorts** application is a Maven based java application using the OpenLiberty framework.  \n\n3.\tApply the Maven command to build the application:\n\n  ```\n  mvn package\n  ```\n  Sample output:\n  ```\n  ....\n  Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/xstream/xstream/1.4.10/xstream-1.4.10.jar (590 kB at 14 MB/s)\n  [INFO] Packaging webapp\n  [INFO] Assembling webapp [modresorts10] in [/home/ibmdemo/my-odo-app/target/modresorts10]\n  [INFO] Processing war project\n  [INFO] Copying webapp resources [/home/ibmdemo/my-odo-app/src/main/webapp]\n  [INFO] Webapp assembled in [63 msecs]\n  [INFO] Building war: /home/ibmdemo/my-odo-app/target/modresorts10.war\n  [INFO] ------------------------------------------------------------------------\n  [INFO] BUILD SUCCESS\n  [INFO] ------------------------------------------------------------------------\n  [INFO] Total time:  15.089 s\n  [INFO] Finished at: 2021-08-06T08:43:07-07:00\n  [INFO] ------------------------------------------------------------------------\n  ```\n4.\tReview the contents of the application again:\n  ```\n  ls -l\n  ```\n  Sample output:\n  ```\n  total 24\n  -rw-rw-r-- 1 ibmdemo ibmdemo 1108 Aug  6 08:41 app-deploy.yaml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 7847 Aug  6 08:41 pom.xml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 3977 Aug  6 08:41 READ_THIS_FIRST.md\n  drwxrwxr-x 4 ibmdemo ibmdemo 4096 Aug  6 08:41 src\n  drwxrwxr-x 9 ibmdemo ibmdemo 4096 Aug  6 08:43 target\n  ```\n  You can see that the application runtime is created in the **target** directory.\n \n5.\tPackage the application with ODO command:\n\n  ```\n  odo create java-openliberty my-odo-app\n  ```\n  Sample output:\n  ```\n  Devfile Object Validation\n  ✓  Checking devfile existence [36845ns]\n  ✓  Creating a devfile component from registry: DefaultDevfileRegistry [55794ns]\n  Validation\n  ✓  Validating if devfile name is correct [38708ns]\n\n  Please use `odo push` command to create the component with source deployed\n  ```\n6.\tReview the contents of the application with command:\n\n  ```\n  ls -l\n  ```\n  Sample output:\n  ```\n  total 28\n  -rw-rw-r-- 1 ibmdemo ibmdemo 1108 Aug  6 08:41 app-deploy.yaml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 3313 Aug  6 08:45 devfile.yaml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 7847 Aug  6 08:41 pom.xml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 3977 Aug  6 08:41 READ_THIS_FIRST.md\n  drwxrwxr-x 4 ibmdemo ibmdemo 4096 Aug  6 08:41 src\n  drwxrwxr-x 9 ibmdemo ibmdemo 4096 Aug  6 08:43 target\n\n  ```\n  The odo create process generates a java-openliberty based **devfile.yaml** for your application. The file defines how to deploy your application to the OCP cluster.\n\n7.\tDeploy the application to the OpenShift cluster with ODO push command:\n\n  ```\n  odo push\n  ```\n  Sample output:\n  ```\n  Validation\n  ✓  Validating the devfile [50203ns]\n\n  Creating Kubernetes resources for component my-odo-app\n  ✓  Waiting for component to start [51s]\n  ✓  Waiting for component to start [37ms]\n\n  Applying URL changes\n  W0806 08:48:40.738551    9606 warnings.go:70] extensions/v1beta1 Ingress is deprecated in v1.14+, unavailable in v1.22+; use networking.k8s.io/v1 Ingress\n  ✓  URL ep1: http://ep1-my-odo-app-myodo.apps.demo.ibmdte.net/ created\n\n  Syncing to component my-odo-app\n  ✓  Checking files for pushing [7ms]\n  ✓  Syncing files to the component [367ms]\n\n  Executing devfile commands for component my-odo-app\n  ✓  Waiting for component to start [2ms]\n  ✓  Executing build command \"/stack/ol/scripts/maven/devbuild-cmd.sh 21.0.0.6\" [14s]\n  ✓  Executing run command \"mvn -Dliberty.runtime.version=21.0.0.6 -Ddebug=false -DhotTests=true -DcompileWait=3 liberty:dev\", if not running [1s]\n\n  Pushing devfile component \"my-odo-app\"\n  ✓  Changes successfully pushed to component\n\n  ```\n8.\tNow your application is deployed to the OCP cluster successfully, you can check it status with OpenShift CLI **oc** commands:\n\n  ```\n  oc login -u ibmadmin -p engageibm https://api.demo.ibmdte.net:6443\n  \n  oc get pod -n myodo\n  ```\n  Sample output:\n  ```\n  Login successful.\n\n  You have access to 71 projects, the list has been suppressed. You can list all projects with ' projects'\n\n  Using project \"myodo\".\n\n  NAME                             READY   STATUS    RESTARTS   AGE\n  my-odo-app-app-c99c74768-tqlfz   1/1     Running   0          2m33s\n\n  ```\n  Your application pod is running.\n\n9.\tCheck the application service and route information with commands\n\n  ```\n  oc get service -n myodo\n  \n  oc get route -n myodo\n  ```\n  Sample output:\n  ```\n  NAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE\n  my-odo-app   ClusterIP   172.30.202.227   <none>        9080/TCP   3m59s\n \n  NAME             HOST/PORT                                   PATH   SERVICES     PORT   TERMINATION   WILDCARD\n  ep1-my-odo-app   ep1-my-odo-app-myodo.apps.demo.ibmdte.net   /      my-odo-app   9080                 None\n  ``` \n\n  You can see that the application service type and port as ClusterIP and 9080 and the route url is: http://ep1-my-odo-app-myodo.apps.demo.ibmdte.net.\n\n10.\tOpen a Firefox web browser window by clicking its icon on the Desktop toolbar.\n\n  ![](images/firefox-icon.png) \n  \n11. Launch the application from a new browser window with the route url, the **Mod Resorts** application Home page is displayed.\n\n  ![](images/odo-mod-resorts-deployed.png)  \n\n11.\tClick **WHERE TO?** dropdown menu to see the city list.\n\n    ![](images/mod-resorts-app-where-to.png)\n \n12. Click **PARIS, FRANCE** from the list, it shows the weather of the city.\n\n    ![](images/mod-resorts-app-paris.png)    \n \n13.\tClick **LAS VEGAS, US** from the list, it shows the weather of the city.\n\n  ![](images/odo-mod-resorts-app-vegas.png) \n\n  As you can see, it is easy and quick to deploy and test an application the OCP cluster with ODO.\n  \n  Next you will learn how to make change to the application, redeploy and test it.\n \n#### 6.4\tEdit, Re-Deploy and Test Your Application\n\nAssuming that you noticed an issue in your testing: the showing temperature values of 83.9/28.8 in Las Vegas are wrong. You want to fix it and redeploy application. \n\nIn this section you go through this process to see how quick you can modify your application and redeploy it with ODO and VS Code. The VS Code editor has the OpenShift Connector plug-in which make the inner circle development with OCP cluster more efficient.\n\n1.\tIn the Terminal window, start the VS Code editor inside the my-odo-app directory with command:\n  ```\n  cd /home/ibmdemo/my-odo-app/\n  \n  code .\n  ```\n  \n  This command launches the VS Code editor and loads **my-odo-app** application source code.\n \n2.\tClick **Yes, I trust..** to continue.\n\n  ![](images/odo-vscode-yes-i-trust.png) \n\n  The VS Code is launched with the **my-odo-app** application source code.\n\n  ![](images/odo-vscode-home.png) \n\n3. Click the OpenShift icon to get connected to your cluster.\n \n  ![](images/odo-vscode-ocp-icon.png) \n\n  The VS code is pre-configured to connect with the lab OCP cluster with URL: https://api.demo.ibmdte.net:6443, the cluster is listed.\n4. Click the **https://api.demo.ibmdte.net:6443** link.\n\n  ![](images/odo-vscode-ocp-url.png) \n\n  You can see that your project and the application pod deployed\n\n  ![](images/odo-vscode-ocp-project.png)\n     \n5.\tNow you are ready to make your code change, click the **Explorer** icon to access your application source code.\n\n  ![](images/odo-vscode-explorer-icon.png)\n\n6.\tIn the Explorer, open the file **lasVegas20180810Weather.json** under **src/main/resources** directory for editing.\n\n  ![](images/odo-vscode-vegas-json.png)\n\n7.\tChange the temperature values in lines **209** to **211** from **83.9 F (28.8 C)/83.9/28.8** to **75.0 F (23.9 C)/75.0/23.9** as shown below.\n  \n    Before:\n\n    ![](images/odo-vscode-before.png)\n\n    After:\n\n    ![](images/odo-vscode-after.png)\n\n \n8.\tClick **File**>**Save** to save your changes.\n \n9.\tNow click the OpenShift icon to go back to cluster, right-click **my-odo-app** pod and click **push** to redeploy the updated application.\n\n  ![](images/odo-vscode-push.png)\n  \n  Your application is redeployed and you can see the push output messages in the VS code **TERMINAL** window.\n\n  ![](images/odo-vscode-push-output.png)\n\n10.\tFrom the web browser the **Mod Resorts** application Home page, click **WHERE TO?** dropdown menu and select **LAS VEGAS, US**, you can see that the temperature values are updated.\n \n  ![](images/odo-mod-resorts-updated.png)\n\n### 7.\tSummary\n\nIn this lab, you have learned how to create, package, deploy and test a cloud native application using ODO, RHOCP and VS Code.  You can see that with ODO and VS Code, it is a quick and easy process to build and test a cloud native application for RHOCP in the development inner loop. \n\n**Congratulations! You have successfully completed Create and Deploy Cloud Native Application Using ODO 2.0 Lab.**\n","type":"Mdx","contentDigest":"ca8a0216b8fc2abedbebc57759b7280b","owner":"gatsby-plugin-mdx","counter":10613},"frontmatter":{"title":"Create and Deploy Cloud Native Application Using ODO 2.0","description":null},"exports":{},"rawBody":"---\ntitle: Create and Deploy Cloud Native Application Using ODO 2.0\ndescription: \n---\nThe goal of this session is to provide a hands-on experience on how to work with OpenShift Do (**ODO**) development tool.\n\n### 1. OpenShift Serverless Serving Introduction\nOn the journey to cloud, enterprise customers are facing challenges moving their existing on-premises applications to cloud and creating cloud native business applications quickly and cost-effectively.  The IBM Cloud Paks and Red Hat OpenShift provides a complete and consistent experience and solution for cloud-native deployments. \n\nCustomers can easily modernize their existing applications with IBM and Red Hat integrated tools and develop new cloud-native applications faster with enterprise governance on any cloud. \n\nOne of the features integrated is OpenShift ODO 2.0, a modern microservices-based framework that enables developers, architects and operation teams to work together, faster on end-to-end solutions for the team to build, deploy, and manage the lifecycle of Kubernetes-based applications on OpenShift Container Platform. \n\nOpenShift Do (ODO) ODO is a fast and easy-to-use CLI tool for creating applications on OpenShift Container Platform. It allows developers to concentrate on creating applications without the need to administrate an OpenShift Container Platform cluster itself. Creating deployment configurations, build configurations, service routes and other OpenShift Container Platform elements are all automated by ODO.\n\nIn this lab, you are using ODO to develop and test your application in an OpenShift Container Platform (OCP) cluster.\n\nThe lab covers the following business scenario:\n\nAs illustrated below, your team is developing a web application called **Mod Resorts**, a cloud native application showing the weather in various locations. Your company wants to move this application from on-premises (in VMs) to the cloud (in Containers). This transition delivers improved operational efficiencies for the application by leveraging scalable cloud capabilities with OCP.  \n \n![](images/mod-resorts-app-home-page.png)\n\n\n\n### 2. Objective\n\nThe objectives of this lab are to help you:\n\n* learn how to use ODO to create a cloud native application\n* learn how to use ODO to deploy a cloud native application to an OCP cluster\n* learn how to use ODO and VS code to test, fix and re-deploy the could native application\n\n### 3.\tPrerequisites\n\nThe following prerequisites must be completed prior to beginning this lab:\n*\tFamiliarity with basic Linux commands\n*\tHave internet access\n* Have basic knowledge of OpenShift Container Platform (OCP) web console and commandline operations\n*\tHave a SkyTap App Mod Lab environment ready\n\n### 4.\tWhat is Already Completed\n\nA six Linux VMs App Mod Lab environment has been provided for this lab. \n \n  ![](images/lab-vms.png)\n\n*\tThe Red Hat OpenShift Container Platform (OCP) v4.6, is installed in 5 VMs, the master1 VM, the master2 VM, the master3 VM, the dns VM and the nfs VM, with 3 master nodes and 3 compute nodes (the master nodes are serving as computer nodes as well).\n*\tThe workstation VM is the one you will use to access and work with OCP cluster in this lab.\n  The login credentials for the workstation VM are:\n  User ID: **ibmdemo**\n  Password: **passw0rd**\n  Note: Use the Password above in the workstation VM Terminal for sudo in the Lab.\n*\tThe CLI commands used in this lab are listed in the **Commands.txt** file located at the **/home/ibmdemo/add-mod-labs/cn0100st** directory of the workstation VM for you to copy and paste these commands to the Terminal window during the lab.\n\n### 5.\tLab Tasks\n\nDuring this lab, you complete the following tasks:\n*\tcreate ODO project\n* package, deploy and test cloud native application with ODO\n* edit, re-Deploy and test application\n\n### 6.\tExecute Lab Tasks\n\n#### 6.1 Log in to the workstation VM and get started \n1.  If the VMs are not already started, start them by clicking the play button for the whole group.\n\n  ![](images/start-vms.png)\n\n\n2.\tAfter the VMs are started, click the workstation VM icon to access it. \n\n  ![](images/access-workstation.png)\n\n  The Workstation Linux Desktop is displayed. You execute all the lab tasks on this workstation VM.\n\n3.\tIf requested to log in to the workstation OS, use credentials: **ibmdemo**/**passw0rd**\n4. Open a terminal window by clicking its icon from the Desktop toolbar.\n\n  ![](images/terminal-icon.png)\n5. If this is your first time to run the lab series in this lab environment, do the following, otherwise if you have already downloaded the lab materials in other labs, you can skip this step.\n  \n  a. In the terminal window, run the following command to get the lab materials.\n\n  ```\n  /home/ibmdemo/get-lab-materials.sh\n  ```\n\n  Sample output\n\n  ```\n  Cloning into 'app-mod-labs'...\n  warning: redirecting to https://github.com/wtistang/app-mod-labs.git/\n  remote: Enumerating objects: 5693, done.\n  remote: Counting objects: 100% (185/185), done.\n  remote: Compressing objects: 100% (118/118), done.\n  remote: Total 5693 (delta 53), reused 184 (delta 53), pack-reused 5508\n  Receiving objects: 100% (5693/5693), 277.71 MiB | 57.39 MiB/s, done.\n  Resolving deltas: 100% (2250/2250), done.\n  Checking out files: 100% (6120/6120), done.\n  ```\n  \n  The lab materials is downloaded to the **/home/ibmdemo/app-mod-labs** directory.\n  \n6. Open **File Manager** by clicking its icon on the Desktop toolbar.\n\n  ![](images/file-manager-icon.png)\n\n7. Navigate to **/home/ibmdemo/app-mod-labs/cn0200st** directory and double-click to open **Commands.txt** file in the text editor.\n\n  ![](images/open-commands-txt-cn0200st.png)\n\n  This file contains all commands used in the lab.  When you need to any command in a terminal window in the future tasks, you should come back to this file and copy/paste the command from this file, this is because you cannot directly copy and paste from your local workstation to the SkyTap workstation.\n \n#### 6.2 Create an ODO project\n\nTo work with ODO, you need to create your ODO project working directory first.\n\n1.\tClick the terminal icon in the Desktop toolbar.\n\n  ![](images/terminal-icon.png)\n\n2.\tFirst create a working directory called **my-odo-app** and navigate to it with commands: \n\n  ```\n  cd /home/ibmdemo\n  mkdir my-odo-app \n  cd my-odo-app/\n  ```\n3.\tLog in to the OCP cluster using command:\n\n  ```\n  odo login -u ibmadmin -p engageibm https://api.demo.ibmdte.net:6443\n  ```\n  Sample output:\n  ```\n  Connecting to the OpenShift cluster\n\n  Login successful.\n\n  You have access to 70 projects, the list has been suppressed. You can list all projects with 'odo project list'\n\n  Using project \"default\".\n\n  ```\n4.\tYou need to create a project/namespace in the OCP cluster to host your application.  To do this, run the following command to create a project called **myodo** in the cluster:\n\n  ```\n  odo project create myodo\n  ```\n  Sample output:\n  ```\n  ✓  Project 'myodo' is ready for use\n  ✓  New project created and now using project: myodo\n  ```\n  **myodo** project is created and is used as current ODO working project.\n\n \n#### 6.3\tPackage, Deploy and Test Your Application with ODO\n\nYour teammate has developed the **Mod Rsorts** application, you need to package it with ODO, deploy it to the OCP cluster and test it.\n\n1.\tRun the command below to copy the application code to the **my-odo-app** directory:\n\n  ```\n  cd /home/ibmdemo/my-odo-app/\n  cp -R /home/ibmdemo/app-mod-labs/cn0200st/modresorts-devfile/* .\n  ```\n2.\tReview the contents of the application using command:\n  ```\n  ls -l\n  ```\n  Sample output:\n  ```\n  total 20\n  -rw-rw-r-- 1 ibmdemo ibmdemo 1108 Aug  6 08:41 app-deploy.yaml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 7847 Aug  6 08:41 pom.xml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 3977 Aug  6 08:41 READ_THIS_FIRST.md\n  drwxrwxr-x 4 ibmdemo ibmdemo 4096 Aug  6 08:41 src\n  ```\n  \n  The **Mod Resorts** application is a Maven based java application using the OpenLiberty framework.  \n\n3.\tApply the Maven command to build the application:\n\n  ```\n  mvn package\n  ```\n  Sample output:\n  ```\n  ....\n  Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/xstream/xstream/1.4.10/xstream-1.4.10.jar (590 kB at 14 MB/s)\n  [INFO] Packaging webapp\n  [INFO] Assembling webapp [modresorts10] in [/home/ibmdemo/my-odo-app/target/modresorts10]\n  [INFO] Processing war project\n  [INFO] Copying webapp resources [/home/ibmdemo/my-odo-app/src/main/webapp]\n  [INFO] Webapp assembled in [63 msecs]\n  [INFO] Building war: /home/ibmdemo/my-odo-app/target/modresorts10.war\n  [INFO] ------------------------------------------------------------------------\n  [INFO] BUILD SUCCESS\n  [INFO] ------------------------------------------------------------------------\n  [INFO] Total time:  15.089 s\n  [INFO] Finished at: 2021-08-06T08:43:07-07:00\n  [INFO] ------------------------------------------------------------------------\n  ```\n4.\tReview the contents of the application again:\n  ```\n  ls -l\n  ```\n  Sample output:\n  ```\n  total 24\n  -rw-rw-r-- 1 ibmdemo ibmdemo 1108 Aug  6 08:41 app-deploy.yaml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 7847 Aug  6 08:41 pom.xml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 3977 Aug  6 08:41 READ_THIS_FIRST.md\n  drwxrwxr-x 4 ibmdemo ibmdemo 4096 Aug  6 08:41 src\n  drwxrwxr-x 9 ibmdemo ibmdemo 4096 Aug  6 08:43 target\n  ```\n  You can see that the application runtime is created in the **target** directory.\n \n5.\tPackage the application with ODO command:\n\n  ```\n  odo create java-openliberty my-odo-app\n  ```\n  Sample output:\n  ```\n  Devfile Object Validation\n  ✓  Checking devfile existence [36845ns]\n  ✓  Creating a devfile component from registry: DefaultDevfileRegistry [55794ns]\n  Validation\n  ✓  Validating if devfile name is correct [38708ns]\n\n  Please use `odo push` command to create the component with source deployed\n  ```\n6.\tReview the contents of the application with command:\n\n  ```\n  ls -l\n  ```\n  Sample output:\n  ```\n  total 28\n  -rw-rw-r-- 1 ibmdemo ibmdemo 1108 Aug  6 08:41 app-deploy.yaml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 3313 Aug  6 08:45 devfile.yaml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 7847 Aug  6 08:41 pom.xml\n  -rw-rw-r-- 1 ibmdemo ibmdemo 3977 Aug  6 08:41 READ_THIS_FIRST.md\n  drwxrwxr-x 4 ibmdemo ibmdemo 4096 Aug  6 08:41 src\n  drwxrwxr-x 9 ibmdemo ibmdemo 4096 Aug  6 08:43 target\n\n  ```\n  The odo create process generates a java-openliberty based **devfile.yaml** for your application. The file defines how to deploy your application to the OCP cluster.\n\n7.\tDeploy the application to the OpenShift cluster with ODO push command:\n\n  ```\n  odo push\n  ```\n  Sample output:\n  ```\n  Validation\n  ✓  Validating the devfile [50203ns]\n\n  Creating Kubernetes resources for component my-odo-app\n  ✓  Waiting for component to start [51s]\n  ✓  Waiting for component to start [37ms]\n\n  Applying URL changes\n  W0806 08:48:40.738551    9606 warnings.go:70] extensions/v1beta1 Ingress is deprecated in v1.14+, unavailable in v1.22+; use networking.k8s.io/v1 Ingress\n  ✓  URL ep1: http://ep1-my-odo-app-myodo.apps.demo.ibmdte.net/ created\n\n  Syncing to component my-odo-app\n  ✓  Checking files for pushing [7ms]\n  ✓  Syncing files to the component [367ms]\n\n  Executing devfile commands for component my-odo-app\n  ✓  Waiting for component to start [2ms]\n  ✓  Executing build command \"/stack/ol/scripts/maven/devbuild-cmd.sh 21.0.0.6\" [14s]\n  ✓  Executing run command \"mvn -Dliberty.runtime.version=21.0.0.6 -Ddebug=false -DhotTests=true -DcompileWait=3 liberty:dev\", if not running [1s]\n\n  Pushing devfile component \"my-odo-app\"\n  ✓  Changes successfully pushed to component\n\n  ```\n8.\tNow your application is deployed to the OCP cluster successfully, you can check it status with OpenShift CLI **oc** commands:\n\n  ```\n  oc login -u ibmadmin -p engageibm https://api.demo.ibmdte.net:6443\n  \n  oc get pod -n myodo\n  ```\n  Sample output:\n  ```\n  Login successful.\n\n  You have access to 71 projects, the list has been suppressed. You can list all projects with ' projects'\n\n  Using project \"myodo\".\n\n  NAME                             READY   STATUS    RESTARTS   AGE\n  my-odo-app-app-c99c74768-tqlfz   1/1     Running   0          2m33s\n\n  ```\n  Your application pod is running.\n\n9.\tCheck the application service and route information with commands\n\n  ```\n  oc get service -n myodo\n  \n  oc get route -n myodo\n  ```\n  Sample output:\n  ```\n  NAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE\n  my-odo-app   ClusterIP   172.30.202.227   <none>        9080/TCP   3m59s\n \n  NAME             HOST/PORT                                   PATH   SERVICES     PORT   TERMINATION   WILDCARD\n  ep1-my-odo-app   ep1-my-odo-app-myodo.apps.demo.ibmdte.net   /      my-odo-app   9080                 None\n  ``` \n\n  You can see that the application service type and port as ClusterIP and 9080 and the route url is: http://ep1-my-odo-app-myodo.apps.demo.ibmdte.net.\n\n10.\tOpen a Firefox web browser window by clicking its icon on the Desktop toolbar.\n\n  ![](images/firefox-icon.png) \n  \n11. Launch the application from a new browser window with the route url, the **Mod Resorts** application Home page is displayed.\n\n  ![](images/odo-mod-resorts-deployed.png)  \n\n11.\tClick **WHERE TO?** dropdown menu to see the city list.\n\n    ![](images/mod-resorts-app-where-to.png)\n \n12. Click **PARIS, FRANCE** from the list, it shows the weather of the city.\n\n    ![](images/mod-resorts-app-paris.png)    \n \n13.\tClick **LAS VEGAS, US** from the list, it shows the weather of the city.\n\n  ![](images/odo-mod-resorts-app-vegas.png) \n\n  As you can see, it is easy and quick to deploy and test an application the OCP cluster with ODO.\n  \n  Next you will learn how to make change to the application, redeploy and test it.\n \n#### 6.4\tEdit, Re-Deploy and Test Your Application\n\nAssuming that you noticed an issue in your testing: the showing temperature values of 83.9/28.8 in Las Vegas are wrong. You want to fix it and redeploy application. \n\nIn this section you go through this process to see how quick you can modify your application and redeploy it with ODO and VS Code. The VS Code editor has the OpenShift Connector plug-in which make the inner circle development with OCP cluster more efficient.\n\n1.\tIn the Terminal window, start the VS Code editor inside the my-odo-app directory with command:\n  ```\n  cd /home/ibmdemo/my-odo-app/\n  \n  code .\n  ```\n  \n  This command launches the VS Code editor and loads **my-odo-app** application source code.\n \n2.\tClick **Yes, I trust..** to continue.\n\n  ![](images/odo-vscode-yes-i-trust.png) \n\n  The VS Code is launched with the **my-odo-app** application source code.\n\n  ![](images/odo-vscode-home.png) \n\n3. Click the OpenShift icon to get connected to your cluster.\n \n  ![](images/odo-vscode-ocp-icon.png) \n\n  The VS code is pre-configured to connect with the lab OCP cluster with URL: https://api.demo.ibmdte.net:6443, the cluster is listed.\n4. Click the **https://api.demo.ibmdte.net:6443** link.\n\n  ![](images/odo-vscode-ocp-url.png) \n\n  You can see that your project and the application pod deployed\n\n  ![](images/odo-vscode-ocp-project.png)\n     \n5.\tNow you are ready to make your code change, click the **Explorer** icon to access your application source code.\n\n  ![](images/odo-vscode-explorer-icon.png)\n\n6.\tIn the Explorer, open the file **lasVegas20180810Weather.json** under **src/main/resources** directory for editing.\n\n  ![](images/odo-vscode-vegas-json.png)\n\n7.\tChange the temperature values in lines **209** to **211** from **83.9 F (28.8 C)/83.9/28.8** to **75.0 F (23.9 C)/75.0/23.9** as shown below.\n  \n    Before:\n\n    ![](images/odo-vscode-before.png)\n\n    After:\n\n    ![](images/odo-vscode-after.png)\n\n \n8.\tClick **File**>**Save** to save your changes.\n \n9.\tNow click the OpenShift icon to go back to cluster, right-click **my-odo-app** pod and click **push** to redeploy the updated application.\n\n  ![](images/odo-vscode-push.png)\n  \n  Your application is redeployed and you can see the push output messages in the VS code **TERMINAL** window.\n\n  ![](images/odo-vscode-push-output.png)\n\n10.\tFrom the web browser the **Mod Resorts** application Home page, click **WHERE TO?** dropdown menu and select **LAS VEGAS, US**, you can see that the temperature values are updated.\n \n  ![](images/odo-mod-resorts-updated.png)\n\n### 7.\tSummary\n\nIn this lab, you have learned how to create, package, deploy and test a cloud native application using ODO, RHOCP and VS Code.  You can see that with ODO and VS Code, it is a quick and easy process to build and test a cloud native application for RHOCP in the development inner loop. \n\n**Congratulations! You have successfully completed Create and Deploy Cloud Native Application Using ODO 2.0 Lab.**\n","fileAbsolutePath":"/Users/yitang/Downloads/app-mod/src/pages/labs/cloudnative-labs/cn0200-odo/index.mdx"}}},"staticQueryHashes":["1364590287","137577622","137577622","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}